{% extends "base.html" %}
{% block title %}
    {% if lang == 'kk' %}Психологиялық тест{% elif lang == 'en' %}Personality Test{% else %}Психологический тест{% endif %}
{% endblock %}

{% block content %}
<section class="section container">
    <h1>
        {% if lang == 'kk' %}Психологиялық тест{% elif lang == 'en' %}Personality Test{% else %}Психологический тест{% endif %}
    </h1>

    <p>
        {% if lang == 'kk' %}Төмендегі сұрақтарға шын жауап беріңіз. Тест нәтижесі сізге сәйкес келетін мамандықты анықтауға көмектеседі.{% elif lang == 'en' %}
        Answer honestly. The result will help determine which university program suits you best.
        {% else %}Отвечайте честно. Результаты помогут определить, какие программы вам подходят.{% endif %}
    </p>

    <form id="testForm" data-lang="{{ lang }}">
        {% for question in questions %}
        <div class="question-block">
            <p class="question-text">{{ question.text }}</p>
            <div class="range-container">
                <span class="left-label">
                    {% if lang == 'kk' %}Келіспеймін{% elif lang == 'en' %}Disagree{% else %}Не согласен{% endif %}
                </span>
                <input type="range" min="1" max="7" value="4" class="answer-slider"
                       name="q{{ loop.index }}" data-category="{{ question.category }}">
                <span class="right-label">
                    {% if lang == 'kk' %}Келісемін{% elif lang == 'en' %}Agree{% else %}Согласен{% endif %}
                </span>
            </div>
        </div>
        {% endfor %}

        <button type="submit" class="btn orange">
            {% if lang == 'kk' %}Жіберу{% elif lang == 'en' %}Submit{% else %}Отправить{% endif %}
        </button>
    </form>

    <div id="resultBox" style="margin-top:20px; display:none;">
        <h3>{% if lang == 'kk' %}Нәтиже{% elif lang == 'en' %}Result{% else %}Результат{% endif %}</h3>
        <p id="resultText"></p>
    </div>
</section>

<script src="{{ url_for('static', filename='js/test_psy.js') }}"></script>
{% endblock %}
