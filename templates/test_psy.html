{% extends "base.html" %}
{% block title %}
    {% if lang == 'kk' %}Психологиялық тест{% elif lang == 'en' %}Personality Test{% else %}Психологический тест{% endif %}
{% endblock %}

{% block content %}
<section class="section container">
    <h1>
        {% if lang == 'kk' %}Психологиялық тест{% elif lang == 'en' %}Personality Test{% else %}Психологический тест{% endif %}
    </h1>

    <div id="progress">
        {% if lang == 'kk' %}Сұрақтар: 0/{{ questions|length }}
        {% elif lang == 'en' %}Questions: 0/{{ questions|length }}
        {% else %}Вопросы: 0/{{ questions|length }}
        {% endif %}
    </div>

    <form id="testForm" data-total="{{ questions|length }}" data-lang="{{ lang }}">
        {% for question in questions %}
        <div class="form-group">
            <label>{{ question.text }}</label>
            <div class="labels">
                <span>{% if lang == 'kk' %}Толық келіспеймін{% elif lang == 'en' %}Strongly Disagree{% else %}Совершенно не согласен{% endif %}</span>
                <span>{% if lang == 'kk' %}Толық келісемін{% elif lang == 'en' %}Strongly Agree{% else %}Полностью согласен{% endif %}</span>
            </div>
            <input type="range" name="answer_{{ question.id }}" min="1" max="7" value="4" class="slider" oninput="updateProgress()">
        </div>
        {% endfor %}

        <button type="submit" class="btn orange">
            {% if lang == 'kk' %}Жіберу{% elif lang == 'en' %}Submit{% else %}Отправить{% endif %}
        </button>

        <div id="test-result"></div>
    </form>
</section>

<!-- Подключаем JS -->
<script src="{{ url_for('static', filename='js/test_psy.js') }}"></script>
{% endblock %}
